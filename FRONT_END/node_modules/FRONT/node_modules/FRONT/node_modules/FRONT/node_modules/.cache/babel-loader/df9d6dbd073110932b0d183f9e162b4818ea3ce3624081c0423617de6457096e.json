{"ast":null,"code":"import StringUtil from '../../../utils/StringUtil';\nexport default {\n  name: 'ConsultCmpltHist',\n  data() {\n    return {\n      nullTableDate: 6\n    };\n  },\n  created() {},\n  computed: {\n    //----------------------------------\n    // 고장이력 정보\n    //----------------------------------\n    histList() {\n      return this.$store.state.trouble.histList;\n    },\n    consultTarget() {\n      // 로그인 사용자 정보\n      return this.$store.state.consult.consultTarget;\n    }\n  },\n  methods: {\n    //--------------------------------\n    // 고장이력정보 조회 \n    //--------------------------------\n    getHistList() {\n      this.ttId = this.consultTarget.currTtID; //localStorage.getItem('ttId');        \n      this.$store.dispatch(\"trouble/histList\", this.ttId).then(() => {\n        //console.log(\"고장이력정보 RES::::::\",this.histList);\n        this.nullTableDate = 6 - this.histList.length;\n        this.nullTableDate = this.nullTableDate < 0 ? 0 : this.nullTableDate;\n        this.$forceUpdate();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    // 고장이력정보 상세 팝업 오픈\n    openConsultCmpltHistPopup(item) {\n      let options = \"top=10, width=500, height=505, status=no, menubar=no, toolbar=no, resizable=no\";\n      window.open(\"/popup/ConsultCmpltHistPopup?ttId=\" + item.ttId + \"&lscn=\" + item.lscn, \"ConsultCmpltHistPopup\", options);\n    },\n    StringUtil() {\n      var obj = StringUtil;\n      return obj;\n    }\n  }\n};","map":{"version":3,"mappings":"AAoCE,OAAOA,UAAS,MAAO,2BAA2B;AAClD,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAI,GAAG;IACL,OAAO;MACLC,aAAY,EAAI;IAClB;EACF,CAAC;EACDC,OAAO,GAAG,CAEV,CAAC;EACDC,QAAQ,EAAE;IACR;IACA;IACA;IACAC,QAAQ,GAAE;MACR,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAACH,QAAQ;IAC3C,CAAC;IACDI,aAAa,GAAG;MAChB;MACE,OAAO,IAAI,CAACH,MAAM,CAACC,KAAK,CAACG,OAAO,CAACD,aAAa;IAChD;EACF,CAAC;EACDE,OAAO,EAAE;IACP;IACA;IACA;IACAC,WAAW,GAAG;MACZ,IAAI,CAACC,IAAG,GAAI,IAAI,CAACJ,aAAa,CAACK,QAAQ,CAAC;MACxC,IAAI,CAACR,MAAM,CAACS,QAAQ,CAAC,kBAAkB,EAAE,IAAI,CAACF,IAAI,CAAC,CAACG,IAAI,CAAC,MAAM;QAC7D;QACA,IAAI,CAACd,aAAY,GAAI,IAAI,IAAI,CAACG,QAAQ,CAACY,MAAM;QAC7C,IAAI,CAACf,aAAY,GAAI,IAAI,CAACA,aAAY,GAAI,IAAI,IAAI,IAAI,CAACA,aAAa;QACpE,IAAI,CAACgB,YAAY,EAAE;MACrB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IAGJ,CAAC;IACD;IACAG,yBAAyB,CAACC,IAAI,EAAC;MAC7B,IAAIC,OAAM,GAAI,gFAAgF;MAC9FC,MAAM,CAACC,IAAI,CAAC,oCAAmC,GAAIH,IAAI,CAACX,IAAG,GAAI,QAAO,GAAIW,IAAI,CAACI,IAAI,EAAE,uBAAuB,EAAEH,OAAO,CAAC;IACxH,CAAC;IACD1B,UAAU,GAAE;MACV,IAAI8B,GAAE,GAAI9B,UAAU;MACpB,OAAO8B,GAAG;IACZ;EACF;AACF","names":["StringUtil","name","data","nullTableDate","created","computed","histList","$store","state","trouble","consultTarget","consult","methods","getHistList","ttId","currTtID","dispatch","then","length","$forceUpdate","catch","error","console","log","openConsultCmpltHistPopup","item","options","window","open","lscn","obj"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\consult\\ConsultCmpltHist.vue"],"sourcesContent":["<template>\r\n  <!-- group : on-off 가능하게 구현되어야 함 -->\r\n  <div class=\"group_item\">\r\n    <!-- box : 지정 가능하게 구현되어야 함 -->\r\n    <h1>고장이력 정보</h1>\r\n    <div :class=\"0 >= nullTableDate ? 'table_box oy_s' : 'table_box oy_s ov_h'\" id=\"CmpltHistBox\">\r\n      <table class=\"table_st01\">\r\n        <!--  스크롤 테이블 구현 필요 -->\r\n        <thead>\r\n          <tr>                \r\n            <th>상품</th>\r\n            <th>수리완료일시</th>\r\n            <th>출동여부</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, idx) in histList\" :key=\"idx\" @click=\"openConsultCmpltHistPopup(item)\" class=\"tr_st01\">\r\n            <td>{{item.svcMainTypeCodeDesc}}</td>\r\n            <td>{{StringUtil().dateFormatter1(item.workFinishDatetime)}}</td>            \r\n            <td>{{item.outdoorTypeCodeDesc}}</td>                \r\n          </tr>\r\n          <tr v-for=\"index in nullTableDate\" :key=\"index\">\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>                \r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--// box -->\r\n  </div>\r\n  <!--// group -->\r\n</template>\r\n\r\n\r\n<script>\r\n  import StringUtil from '../../../utils/StringUtil';\r\n  export default {\r\n    name: 'ConsultCmpltHist',\r\n    data() {\r\n      return {\r\n        nullTableDate : 6\r\n      }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n      //----------------------------------\r\n      // 고장이력 정보\r\n      //----------------------------------\r\n      histList(){\r\n        return this.$store.state.trouble.histList;\r\n      },\r\n      consultTarget() {\r\n      // 로그인 사용자 정보\r\n        return this.$store.state.consult.consultTarget;\r\n      },\r\n    },\r\n    methods: {\r\n      //--------------------------------\r\n      // 고장이력정보 조회 \r\n      //--------------------------------\r\n      getHistList() {\r\n        this.ttId = this.consultTarget.currTtID;//localStorage.getItem('ttId');        \r\n        this.$store.dispatch(\"trouble/histList\", this.ttId).then(() => {        \r\n          //console.log(\"고장이력정보 RES::::::\",this.histList);\r\n          this.nullTableDate = 6 - this.histList.length;\r\n          this.nullTableDate = this.nullTableDate < 0 ? 0 : this.nullTableDate;\r\n          this.$forceUpdate();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n\r\n\r\n      },\r\n      // 고장이력정보 상세 팝업 오픈\r\n      openConsultCmpltHistPopup(item){\r\n        let options = \"top=10, width=500, height=505, status=no, menubar=no, toolbar=no, resizable=no\";\r\n        window.open(\"/popup/ConsultCmpltHistPopup?ttId=\" + item.ttId + \"&lscn=\" + item.lscn, \"ConsultCmpltHistPopup\", options);\r\n      },\r\n      StringUtil(){\r\n        var obj = StringUtil;\r\n        return obj;        \r\n      }\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}