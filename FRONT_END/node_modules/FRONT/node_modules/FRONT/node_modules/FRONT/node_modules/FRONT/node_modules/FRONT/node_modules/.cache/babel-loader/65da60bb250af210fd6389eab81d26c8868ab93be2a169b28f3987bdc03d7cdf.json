{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"popup\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title_box\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"cmplitHist\"\n}, \"비대면 응대이력\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"popup_box st02\"\n};\nconst _hoisted_4 = {\n  class: \"hist_info\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"dt\", null, \"고객명\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"dt\", null, \"번호\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"dt\", null, \"상담자\", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"dt\", null, \"상담일시\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  style: {\n    \"word-break\": \"keep-all\"\n  }\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"dt\", null, \"출동사유\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"hist_chat oy_s\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"get\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"dt\", null, null, -1 /* HOISTED */);\nconst _hoisted_14 = [\"innerHTML\"];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"msg\",\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = {\n  class: \"time\"\n};\nconst _hoisted_18 = {\n  key: 1,\n  class: \"send\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"dt\", null, null, -1 /* HOISTED */);\nconst _hoisted_20 = [\"innerHTML\"];\nconst _hoisted_21 = {\n  key: 1,\n  class: \"msg\",\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  key: 2,\n  class: \"msg\",\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_24 = [\"src\", \"alt\"];\nconst _hoisted_25 = {\n  class: \"time\"\n};\nconst _hoisted_26 = {\n  class: \"popup_close st02\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"dl\", null, [_hoisted_5, _createElementVNode(\"dd\", null, _toDisplayString($options.StringUtil().cusNmFormatter(_ctx.$route.query.cust_nm)), 1 /* TEXT */)]), _createElementVNode(\"dl\", null, [_hoisted_6, _createElementVNode(\"dd\", null, _toDisplayString($options.StringUtil().phoneFormatter(_ctx.$route.query.tel_num)), 1 /* TEXT */)]), _createElementVNode(\"dl\", null, [_hoisted_7, _createElementVNode(\"dd\", null, _toDisplayString($options.StringUtil().cusNmFormatter(_ctx.$route.query.cstt_nm)), 1 /* TEXT */)]), _createElementVNode(\"dl\", null, [_hoisted_8, _createElementVNode(\"dd\", _hoisted_9, _toDisplayString($options.StringUtil().dateFormatter1(_ctx.$route.query.consult_datetime)), 1 /* TEXT */)]), _withDirectives(_createElementVNode(\"dl\", null, [_hoisted_10, _createElementVNode(\"dd\", null, _toDisplayString(_ctx.$route.query.go_reason), 1 /* TEXT */)], 512 /* NEED_PATCH */), [[_vShow, _ctx.$route.query.go_reason != 'null']])]), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.consultHist, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: idx\n    }, [item.sender_type == 'CT' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"dl\", null, [_hoisted_13, item.content_type != 'IM' ? (_openBlock(), _createElementBlock(\"dd\", {\n      key: 0,\n      class: \"msg\",\n      innerHTML: item.content\n    }, null, 8 /* PROPS */, _hoisted_14)) : _createCommentVNode(\"v-if\", true), item.content_type == 'IM' ? (_openBlock(), _createElementBlock(\"dd\", _hoisted_15, [_createElementVNode(\"img\", {\n      src: 'data:image/png;base64,' + item.content,\n      alt: \"\",\n      style: {\n        \"width\": \"80%\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_16)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"dd\", _hoisted_17, _toDisplayString(item.chat_time), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), item.sender_type == 'CS' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"dl\", null, [_hoisted_19, item.content_type == 'TX' ? (_openBlock(), _createElementBlock(\"dd\", {\n      key: 0,\n      class: \"msg\",\n      innerHTML: item.content\n    }, null, 8 /* PROPS */, _hoisted_20)) : _createCommentVNode(\"v-if\", true), item.content_type == 'IM-BASE64' ? (_openBlock(), _createElementBlock(\"dd\", _hoisted_21, [_createElementVNode(\"img\", {\n      src: item.file_name + ',' + item.content,\n      alt: \"\",\n      style: {\n        \"width\": \"100%\",\n        \"border-radius\": \"5px\",\n        \"margin-top\": \"5px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_22)])) : _createCommentVNode(\"v-if\", true), item.content_type == 'IM' ? (_openBlock(), _createElementBlock(\"dd\", _hoisted_23, [_createElementVNode(\"img\", {\n      src: '/nas/' + item.content,\n      alt: item.file_name,\n      style: {\n        \"width\": \"100%\",\n        \"border-radius\": \"5px\",\n        \"margin-top\": \"5px\"\n      }\n    }, null, 8 /* PROPS */, _hoisted_24)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"dd\", _hoisted_25, _toDisplayString(item.chat_time), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" <div class=\\\"send\\\">\\r\\n\\t\\t\\t\\t<dl>\\r\\n\\t\\t\\t\\t\\t<dt></dt>\\r\\n\\t\\t\\t\\t\\t<dd class=\\\"time\\\">오후 02:18</dd>\\r\\n\\t\\t\\t\\t\\t<dd class=\\\"msg\\\">안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.</dd>\\r\\n\\t\\t\\t\\t</dl>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"error\\\">\\r\\n\\t\\t\\t\\t<p>알림톡 전송에 실패했습니다.</p>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"error\\\">\\r\\n\\t\\t\\t\\t<p>서버와 연결이 끊겼습니다.</p>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"send\\\">\\r\\n\\t\\t\\t\\t<dl>\\r\\n\\t\\t\\t\\t\\t<dt></dt>\\r\\n\\t\\t\\t\\t\\t<dd class=\\\"time\\\">오후 02:18</dd>\\r\\n\\t\\t\\t\\t\\t<dd class=\\\"msg\\\">안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.</dd>\\r\\n\\t\\t\\t\\t</dl>\\r\\n\\t\\t\\t</div> \")])]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.popupClose && $options.popupClose(...args))\n  }, \"닫기\")])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$options","cusNmFormatter","_ctx","query","cust_nm","_hoisted_6","phoneFormatter","tel_num","_hoisted_7","cstt_nm","_hoisted_8","_hoisted_9","dateFormatter1","consult_datetime","_hoisted_10","go_reason","_hoisted_11","_Fragment","item","idx","key","sender_type","_hoisted_12","_hoisted_13","content_type","innerHTML","content","_hoisted_15","src","alt","_hoisted_17","chat_time","_hoisted_18","_hoisted_19","_hoisted_21","file_name","_hoisted_23","_hoisted_25","_createCommentVNode","_hoisted_26","onClick"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\consult\\popup\\ConsultHistPopup.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"popup\">\r\n    <div>\r\n\t\t<div class=\"title_box\">\r\n\t\t\t<h1 class=\"cmplitHist\">비대면 응대이력</h1>\r\n\t\t</div>\r\n      <div class=\"popup_box st02\">\r\n\t\t<div class=\"hist_info\">\r\n\t\t\t<dl>\r\n\t\t\t\t<dt>고객명</dt>\r\n\t\t\t\t<dd>{{StringUtil().cusNmFormatter($route.query.cust_nm)}}</dd>\r\n\t\t\t</dl>\r\n\t\t\t<dl>\r\n\t\t\t\t<dt>번호</dt>\r\n\t\t\t\t<dd>{{StringUtil().phoneFormatter($route.query.tel_num)}}</dd>\r\n\t\t\t</dl>\r\n\t\t\t<dl>\r\n\t\t\t\t<dt>상담자</dt>\r\n\t\t\t\t<dd>{{StringUtil().cusNmFormatter($route.query.cstt_nm)}}</dd>\r\n\t\t\t</dl>\r\n\t\t\t<dl>\r\n\t\t\t\t<dt>상담일시</dt>\r\n\t\t\t\t<dd style=\"word-break: keep-all;\">{{StringUtil().dateFormatter1($route.query.consult_datetime)}}</dd>\r\n\t\t\t</dl>\r\n      <dl v-show=\"$route.query.go_reason != 'null'\">\r\n        <dt>출동사유</dt>\r\n        <dd>{{$route.query.go_reason}}</dd>\r\n      </dl>\r\n\t\t</div>\r\n\t\t<div class=\"hist_chat oy_s\">\r\n      <div v-for=\"(item, idx) in consultHist\" :key=\"idx\">\r\n        <div class=\"get\" v-if=\"item.sender_type == 'CT'\">\r\n          <dl>\r\n            <dt></dt>\r\n            <dd class=\"msg\" v-html=\"item.content\" v-if=\"item.content_type != 'IM'\"></dd>\r\n            <dd class=\"msg\" style=\"text-align: center;\" v-if=\"item.content_type == 'IM'\"><img :src=\"'data:image/png;base64,' + item.content\" alt=\"\" style=\"width:80%\"></dd>\r\n            <dd class=\"time\">{{item.chat_time}}</dd>\r\n          </dl>\r\n        </div>\r\n        <div class=\"send\" v-if=\"item.sender_type == 'CS'\">\r\n          <dl>\r\n            <dt></dt>\r\n            <dd class=\"msg\" v-html=\"item.content\" v-if=\"item.content_type == 'TX'\"></dd>\r\n            <dd class=\"msg\" style=\"text-align: center;\" v-if=\"item.content_type == 'IM-BASE64'\"><img :src=\"item.file_name + ',' + item.content\" alt=\"\" style=\"width:100%; border-radius: 5px; margin-top: 5px;\"></dd>\r\n            <dd class=\"msg\" style=\"text-align: center;\" v-if=\"item.content_type == 'IM'\"><img :src=\"'/nas/' + item.content\" :alt=\"item.file_name\" style=\"width:100%; border-radius: 5px; margin-top: 5px;\"></dd>\r\n            <dd class=\"time\">{{item.chat_time}}</dd>\r\n          </dl>\r\n        </div>\r\n      </div>\r\n\t\t\t<!-- <div class=\"send\">\r\n\t\t\t\t<dl>\r\n\t\t\t\t\t<dt></dt>\r\n\t\t\t\t\t<dd class=\"time\">오후 02:18</dd>\r\n\t\t\t\t\t<dd class=\"msg\">안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"error\">\r\n\t\t\t\t<p>알림톡 전송에 실패했습니다.</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"error\">\r\n\t\t\t\t<p>서버와 연결이 끊겼습니다.</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"send\">\r\n\t\t\t\t<dl>\r\n\t\t\t\t\t<dt></dt>\r\n\t\t\t\t\t<dd class=\"time\">오후 02:18</dd>\r\n\t\t\t\t\t<dd class=\"msg\">안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.안녕하세요.</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t</div> -->\r\n\t\t</div>\r\n      </div>\r\n      <div class=\"popup_close st02\">\r\n        <button @click=\"popupClose\">닫기</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \r\n</template>\r\n\r\n\r\n<script>\r\n  import StringUtil from '../../../../utils/StringUtil';\r\n  export default {\r\n    name: 'ConsultCmpltHist',\r\n    data() {\r\n      return {\r\n      }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n      consultHist(){\r\n        return this.$store.state.consult.consultHist;\r\n      },\r\n    },\r\n    methods: {\r\n      popupClose(){\r\n        window.close();\r\n      },\r\n      getConsoltHist(){\r\n        let item = {\r\n          id : this.$route.query.id,\r\n          consult_id : this.$route.query.consult_id,\r\n        }\r\n        this.$store.dispatch(\"consult/consultHist\", item).then(() => {\r\n          console.log(this.consultHist);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          alert(\"상담 내용이 없습니다.\");\r\n        });\r\n      },\r\n      StringUtil(){\r\n        var obj = StringUtil;\r\n        return obj;        \r\n      }\r\n    },\r\n    mounted(){\r\n      this.getConsoltHist();\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}