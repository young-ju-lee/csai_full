{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/CSAI_Front/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nvar _LoginForm = _interopRequireDefault(require(\"./LoginForm.vue\"));\nvar _LoginOtp = _interopRequireDefault(require(\"./LoginOtp.vue\"));\nvar _default = {\n  name: 'App',\n  components: {\n    LoginForm: _LoginForm.default,\n    LoginOtp: _LoginOtp.default\n  },\n  data() {\n    return {\n      uiToggleNum: 1,\n      // #TOFIX 임시 화면 전환용\n      devtest: false // #TODEL 개발 완료시 삭제 필요\n    };\n  },\n\n  computed: {\n    userLoginData() {\n      // 로그인 성공 여부 & 에러 메시지\n      return this.$store.state.auth.userLoginData;\n    },\n    userInfo() {\n      // 로그인 성공 여부 & 에러 메시지\n      return this.$store.state.auth.userInfo;\n    }\n  },\n  created() {\n    // #TODEL test용 - 기본값 false\n\n    if (process.env.VUE_APP_MODE == \"test\") {\n      this.devtest = true;\n    }\n  },\n  methods: {\n    // Login - Otp 화면 전환\n    setUiToggleNum(num, type) {\n      // 화면 none-block 처리\n      this.uiToggleNum = num;\n      if (type == \"pass\") {\n        // OTP 화면 전환시\n        if (this.uiToggleNum == 2) {\n          // if : OTP(2) 화면일 경우 검증 로직 실행\n          if (this.userLoginData.resultCode != 1) {\n            // if : Login 성공이 아닌 상태에서 진입 시\n            // 로그인 UI로 다시 변경\n            alert(\"잘못된 접근입니다.\");\n            this.uiToggleNum = 1;\n          }\n        }\n      }\n    },\n    loginChecker() {\n      this.$store.dispatch(\"auth/userInfo\").then(() => {\n        if (this.userInfo != null) {\n          this.$router.push({\n            path: '/alarm'\n          });\n        }\n      }).catch(error => {\n        // userInfo 호출 실패\n        console.log(error);\n        // 실패하던 성공하던 한번만 세팅 되어야함\n      });\n    }\n  },\n\n  mounted() {\n    otpYN = 'N'; //optYn\n    // 기존 로그인 확인\n    this.loginChecker();\n  }\n};\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}