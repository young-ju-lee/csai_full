{"ast":null,"code":"import StringUtil from '../../../utils/StringUtil';\nexport default {\n  name: 'ConsultAccptInfo',\n  emits: [\"searchLink\"],\n  data() {\n    return {\n      reporterOpinion: \"\"\n    };\n  },\n  created() {},\n  computed: {\n    accptInfo() {\n      return this.$store.state.trouble.accptInfo;\n    },\n    consultTarget() {\n      // 로그인 사용자 정보\n      return this.$store.state.consult.consultTarget;\n    }\n  },\n  methods: {\n    getAccptInfo() {\n      // TTID 조회                \n      this.ttId = this.consultTarget.currTtID; //localStorage.getItem('ttId');                \n      this.$store.dispatch(\"trouble/accptInfo\", this.ttId).then(() => {\n        // 알림톡 -> 전환 관련 처리\n        this.reporterOpinion = this.accptInfo.reporterOpinion;\n        // 팝업일 경우(분기 처리 해서) 이부분에서 전화번호 넘겨주는 처리\n        if (this.consultTarget.popupYn == \"Y\") {\n          // #TOFIX : indexOf 처리 검증 오류 확률 높음\n          let telNum = \"\";\n          let reporterTelNum1 = this.accptInfo.reporterTelNum1;\n          let reporterTelNum2 = this.accptInfo.reporterTelNum2;\n          if (reporterTelNum1 != \"\") {\n            if (reporterTelNum1.indexOf(\"010\") == 0 || reporterTelNum1.indexOf(\"010\") == 1 || reporterTelNum1.indexOf(\"017\") == 0 || reporterTelNum1.indexOf(\"017\") == 1 || reporterTelNum1.indexOf(\"016\") == 0 || reporterTelNum1.indexOf(\"016\") == 1 || reporterTelNum1.indexOf(\"011\") == 0 || reporterTelNum1.indexOf(\"011\") == 1) {\n              telNum = reporterTelNum1;\n            } else {\n              telNum = reporterTelNum2;\n            }\n          } else {\n            telNum = reporterTelNum2;\n          }\n          if (telNum.indexOf(\"010\") != 0 && telNum.indexOf(\"010\") != 1 && telNum.indexOf(\"017\") != 0 && telNum.indexOf(\"017\") != 1 && telNum.indexOf(\"016\") != 0 && telNum.indexOf(\"016\") != 1 && telNum.indexOf(\"011\") != 0 && telNum.indexOf(\"011\") != 1) {\n            telNum = \"\";\n          }\n          if (telNum.length == 12) {\n            telNum = telNum.substr(1, telNum.length);\n          }\n          // 실 세팅\n          this.consultTarget.targetName = this.StringUtil().cusNmFormatter(this.accptInfo.custName);\n          this.consultTarget.targetNum = telNum;\n          this.$emit('searchLink');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    StringUtil() {\n      var obj = StringUtil;\n      return obj;\n    }\n  },\n  mounted() {\n    this.getAccptInfo();\n  }\n};","map":{"version":3,"mappings":"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","names":["StringUtil","name","emits","data","reporterOpinion","created","computed","accptInfo","$store","state","trouble","consultTarget","consult","methods","getAccptInfo","ttId","currTtID","dispatch","then","popupYn","telNum","reporterTelNum1","reporterTelNum2","indexOf","length","substr","targetName","cusNmFormatter","custName","targetNum","$emit","catch","error","console","log","obj","mounted"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\consult\\ConsultAccptInfo.vue"],"sourcesContent":["<template>\r\n  <div class=\"group_item\">\r\n    <h1>고장접수 정보</h1>\r\n    <div class=\"box\" style=\"padding:10px 20px\">\r\n      <table>\r\n        <colgroup>\r\n          <col style=\"width:25%\">\r\n          <col style=\"width:25%\">\r\n          <col style=\"width:25%\">\r\n          <col>\r\n        </colgroup>\r\n        <tbody>\r\n          <tr>\r\n            <th>접수유형</th>\r\n            <td>{{accptInfo.troubReceiptTypecodeDesc}}</td>\r\n            <th>신고유형</th>\r\n            <td>{{accptInfo.reportTypeCodeDesc}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>고객명</th>\r\n            <td>{{StringUtil().cusNmFormatter(accptInfo.custName)}}</td>\r\n            <th>접속번호</th>\r\n            <td>{{StringUtil().phoneFormatter(accptInfo.svcId)}}</td>\r\n          </tr>              \r\n          <tr>\r\n            <th>고객연락처1</th>\r\n            <td>{{StringUtil().phoneFormatter(accptInfo.reporterTelNum1)}}</td>\r\n            <th>고객연락처2</th>\r\n            <td>{{StringUtil().phoneFormatter(accptInfo.reporterTelNum2)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>상품</th>\r\n            <td colspan=\"3\">{{accptInfo.svcMainTypeCodeDesc}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>접수일시</th>\r\n            <td colspan=\"3\">{{accptInfo.troubReceiptDt}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>예약일시</th>            \r\n            <td colspan=\"3\">{{StringUtil().dateFormatter(accptInfo.rsvDt, accptInfo.rsvTime)}}</td>            \r\n          </tr>\r\n          <tr>\r\n            <th>신고내용</th>\r\n            <td colspan=\"3\" :title=\"reporterOpinion\" class=\"reporterOpinion\">{{accptInfo.reporterOpinion}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import StringUtil from '../../../utils/StringUtil';\r\n  export default {\r\n    name: 'ConsultAccptInfo',\r\n    emits : [\"searchLink\"],\r\n    data() {\r\n      return {\r\n        reporterOpinion : \"\",\r\n      }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n      accptInfo(){\r\n        return this.$store.state.trouble.accptInfo;\r\n      },\r\n      consultTarget() {\r\n      // 로그인 사용자 정보\r\n        return this.$store.state.consult.consultTarget;\r\n      },\r\n    },\r\n    methods: {\r\n      getAccptInfo() {\r\n        // TTID 조회                \r\n        this.ttId = this.consultTarget.currTtID;//localStorage.getItem('ttId');                \r\n        this.$store.dispatch(\"trouble/accptInfo\", this.ttId).then(() => {\r\n          // 알림톡 -> 전환 관련 처리\r\n          this.reporterOpinion = this.accptInfo.reporterOpinion;\r\n          // 팝업일 경우(분기 처리 해서) 이부분에서 전화번호 넘겨주는 처리\r\n          if(this.consultTarget.popupYn == \"Y\"){\r\n            // #TOFIX : indexOf 처리 검증 오류 확률 높음\r\n            let telNum = \"\";\r\n            let reporterTelNum1 = this.accptInfo.reporterTelNum1;\r\n            let reporterTelNum2 = this.accptInfo.reporterTelNum2;    \r\n\r\n            if(reporterTelNum1 != \"\"){                                \r\n              if(reporterTelNum1.indexOf(\"010\") == 0 || reporterTelNum1.indexOf(\"010\") == 1 || \r\n                reporterTelNum1.indexOf(\"017\") == 0 || reporterTelNum1.indexOf(\"017\") == 1 ||\r\n                reporterTelNum1.indexOf(\"016\") == 0 || reporterTelNum1.indexOf(\"016\") == 1 ||\r\n                reporterTelNum1.indexOf(\"011\") == 0 || reporterTelNum1.indexOf(\"011\") == 1){                  \r\n                telNum = reporterTelNum1;\r\n              } else {\r\n                telNum = reporterTelNum2;                             \r\n              }\r\n            } else {\r\n              telNum = reporterTelNum2;                        \r\n            }\r\n\r\n            if(telNum.indexOf(\"010\") != 0 && telNum.indexOf(\"010\") != 1 &&\r\n              telNum.indexOf(\"017\") != 0 && telNum.indexOf(\"017\") != 1 &&\r\n              telNum.indexOf(\"016\") != 0 && telNum.indexOf(\"016\") != 1 &&\r\n              telNum.indexOf(\"011\") != 0 && telNum.indexOf(\"011\") != 1){                  \r\n              telNum = \"\";\r\n            }\r\n            if(telNum.length == 12){\r\n              telNum = telNum.substr(1, telNum.length);\r\n            }\r\n            // 실 세팅\r\n            this.consultTarget.targetName = this.StringUtil().cusNmFormatter(this.accptInfo.custName);\r\n            this.consultTarget.targetNum = telNum;\r\n            \r\n            this.$emit('searchLink');\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      },\r\n      StringUtil(){\r\n        var obj = StringUtil;\r\n        return obj;        \r\n      }\r\n    },\r\n    mounted(){\r\n      this.getAccptInfo();\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}