{"ast":null,"code":"import StringUtil from '../../../utils/StringUtil';\nexport default {\n  name: 'ConsultHist',\n  data() {\n    return {\n      selectedId: \"\",\n      selectedConsultId: \"\",\n      nullTableDate: 6\n    };\n  },\n  created() {},\n  computed: {\n    consultHistList() {\n      return this.$store.state.consult.consultHistList;\n    },\n    consultTarget() {\n      // 로그인 사용자 정보\n      return this.$store.state.consult.consultTarget;\n    }\n  },\n  methods: {\n    // 비대면 응대이력 조회\n    getConsultHistList() {\n      if (this.consultTarget.targetNum != '') {\n        let num = this.consultTarget.targetNum; //localStorage.getItem('targetNum');\n        if (num.startsWith(\"0\")) {\n          num = \"82\" + num.substring(1);\n        }\n        this.$store.dispatch(\"consult/consultHistList\", num).then(() => {\n          console.log(this.consultHistList);\n          this.nullTableDate = 6 - this.consultHistList.length;\n          this.nullTableDate = this.nullTableDate < 0 ? 0 : this.nullTableDate;\n          this.$forceUpdate();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    },\n    openConsultHistPopup(item) {\n      let options = \"top=10, width=500, height=540, status=no, menubar=no, toolbar=no, resizable=no\";\n      window.open(\"/popup/ConsultHistPopup?id=\" + item.id + \"&consult_id=\" + item.consult_id + \"&cstt_nm=\" + item.cstt_nm + \"&cust_nm=\" + item.cust_nm + \"&tel_num=\" + item.tel_num + \"&consult_datetime=\" + item.consult_datetime + \"&go_reason=\" + item.go_reason, \"ConsultHistPopup\", options);\n    },\n    StringUtil() {\n      var obj = StringUtil;\n      return obj;\n    }\n  }\n};","map":{"version":3,"mappings":"AAiCE,OAAOA,UAAS,MAAO,2BAA2B;AAElD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAI,GAAG;IACL,OAAO;MACLC,UAAS,EAAI,EAAE;MACfC,iBAAgB,EAAI,EAAE;MACtBC,aAAY,EAAI;IAClB;EACF,CAAC;EACDC,OAAO,GAAG,CAEV,CAAC;EACDC,QAAQ,EAAE;IACRC,eAAe,GAAE;MACf,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,CAACH,eAAe;IAClD,CAAC;IACDI,aAAa,GAAG;MAChB;MACE,OAAO,IAAI,CAACH,MAAM,CAACC,KAAK,CAACC,OAAO,CAACC,aAAa;IAChD;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,kBAAkB,GAAE;MAClB,IAAG,IAAI,CAACF,aAAa,CAACG,SAAQ,IAAK,EAAE,EAAC;QACpC,IAAIC,GAAE,GAAI,IAAI,CAACJ,aAAa,CAACG,SAAS,CAAC;QACvC,IAAGC,GAAG,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;UACpBD,GAAE,GAAI,IAAG,GAAIA,GAAG,CAACE,SAAS,CAAC,CAAC,CAAC;QACjC;QACA,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,yBAAyB,EAAEH,GAAG,CAAC,CAACI,IAAI,CAAC,MAAM;UAC9DC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,eAAe,CAAC;UACjC,IAAI,CAACH,aAAY,GAAI,IAAI,IAAI,CAACG,eAAe,CAACe,MAAM;UACpD,IAAI,CAAClB,aAAY,GAAI,IAAI,CAACA,aAAY,GAAI,IAAI,IAAI,IAAI,CAACA,aAAa;UACpE,IAAI,CAACmB,YAAY,EAAE;QACrB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;UACdL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;QACpB,CAAC,CAAC;MACJ;IACF,CAAC;IACDC,oBAAoB,CAACC,IAAI,EAAC;MACxB,IAAIC,OAAM,GAAI,gFAAgF;MAC9FC,MAAM,CAACC,IAAI,CAAC,6BAA4B,GAAIH,IAAI,CAACI,EAAC,GAAI,cAAa,GAAIJ,IAAI,CAACK,UAAS,GAAI,WAAU,GAAIL,IAAI,CAACM,OAAM,GAAI,WAAU,GAAIN,IAAI,CAACO,OAAM,GAAI,WAAU,GAAIP,IAAI,CAACQ,OAAM,GAAI,oBAAmB,GAAIR,IAAI,CAACS,gBAAe,GAAI,aAAY,GAAIT,IAAI,CAACU,SAAS,EAAE,kBAAkB,EAAET,OAAO,CAAC;IAC7R,CAAC;IACD7B,UAAU,GAAE;MACV,IAAIuC,GAAE,GAAIvC,UAAU;MACpB,OAAOuC,GAAG;IACZ;EACF;AACF","names":["StringUtil","name","data","selectedId","selectedConsultId","nullTableDate","created","computed","consultHistList","$store","state","consult","consultTarget","methods","getConsultHistList","targetNum","num","startsWith","substring","dispatch","then","console","log","length","$forceUpdate","catch","error","openConsultHistPopup","item","options","window","open","id","consult_id","cstt_nm","cust_nm","tel_num","consult_datetime","go_reason","obj"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\consult\\ConsultHist.vue"],"sourcesContent":["<template>\r\n  <div class=\"group_item\">\r\n    <!-- box : 지정 가능하게 구현되어야 함 -->\r\n    <h1>비대면 응대이력</h1>\r\n    <div :class=\"0 >= nullTableDate ? 'table_box oy_s' : 'table_box oy_s ov_h'\">\r\n      <table class=\"table_st01\">\r\n        <colgroup>\r\n          <col style=\"width:50%\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th>일시</th>\r\n            <th>상담 결과</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(item, idx) in consultHistList\" :key=\"idx\" @click=\"openConsultHistPopup(item)\" class=\"tr_st01\">\r\n            <td>{{StringUtil().dateFormatter1(item.consult_datetime)}}</td>              \r\n            <td>{{ item.go_yn == 'Y' ? \"출동 처리 완료\" : (item.go_yn == 'N' ? \"무출동 처리 완료\" : (item.cnvrst_sttus == 'D' ? '상담완료' : '') )}}</td>\r\n          </tr>\r\n          <tr v-for=\"index in nullTableDate\" :key=\"index\">\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>                \r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--// box -->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  import StringUtil from '../../../utils/StringUtil';\r\n\r\n  export default {\r\n    name: 'ConsultHist',\r\n    data() {\r\n      return {\r\n        selectedId : \"\",\r\n        selectedConsultId : \"\",\r\n        nullTableDate : 6\r\n      }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    computed: {\r\n      consultHistList(){\r\n        return this.$store.state.consult.consultHistList;\r\n      },\r\n      consultTarget() {\r\n      // 로그인 사용자 정보\r\n        return this.$store.state.consult.consultTarget;\r\n      },\r\n    },\r\n    methods: {\r\n      // 비대면 응대이력 조회\r\n      getConsultHistList(){\r\n        if(this.consultTarget.targetNum != ''){\r\n          let num = this.consultTarget.targetNum;//localStorage.getItem('targetNum');\r\n          if(num.startsWith(\"0\")) {\r\n              num = \"82\" + num.substring(1);\r\n          }\r\n          this.$store.dispatch(\"consult/consultHistList\", num).then(() => {\r\n            console.log(this.consultHistList);\r\n            this.nullTableDate = 6 - this.consultHistList.length;\r\n            this.nullTableDate = this.nullTableDate < 0 ? 0 : this.nullTableDate;\r\n            this.$forceUpdate();\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n        }\r\n      },\r\n      openConsultHistPopup(item){\r\n        let options = \"top=10, width=500, height=540, status=no, menubar=no, toolbar=no, resizable=no\";\r\n        window.open(\"/popup/ConsultHistPopup?id=\" + item.id + \"&consult_id=\" + item.consult_id + \"&cstt_nm=\" + item.cstt_nm + \"&cust_nm=\" + item.cust_nm + \"&tel_num=\" + item.tel_num + \"&consult_datetime=\" + item.consult_datetime + \"&go_reason=\" + item.go_reason, \"ConsultHistPopup\", options);\r\n      },\r\n      StringUtil(){\r\n        var obj = StringUtil;\r\n        return obj;        \r\n      }\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}