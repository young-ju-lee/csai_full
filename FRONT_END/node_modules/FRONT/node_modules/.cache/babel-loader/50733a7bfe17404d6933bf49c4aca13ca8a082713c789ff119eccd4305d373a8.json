{"ast":null,"code":"import { createElementVNode as _createElementVNode, withKeys as _withKeys, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"search_box\"\n};\nconst _hoisted_2 = {\n  class: \"search_st01\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\"\n}, \"고객명\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\"\n}, \"전화번호\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"li\", null, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"\"\n}, \"발송일\"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"date\",\n  id: \"sndFromDt\"\n}), /*#__PURE__*/_createTextVNode(\" ~ \"), /*#__PURE__*/_createElementVNode(\"input\", {\n  type: \"date\",\n  id: \"sndToDt\"\n})], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"list_box\",\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\"전체건수 : \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  id: \"totalCnt\"\n}, \"0\"), /*#__PURE__*/_createTextVNode(\"건\")], -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"colgroup\", null, [/*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"12%\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"12%\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"15%\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"15%\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"calc(46% - 180px)\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"col\", {\n  style: {\n    \"width\": \"180px\"\n  }\n})], -1 /* HOISTED */);\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"고객명\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"전화번호\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"상품\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"접수일자\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"신고내용\"), /*#__PURE__*/_createElementVNode(\"th\")])], -1 /* HOISTED */);\nconst _hoisted_10 = {\n  key: 0\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"no_data\",\n  colspan: \"6\"\n}, \"조회된 데이터가 없습니다.\", -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"title\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1 /* HOISTED */);\nconst _hoisted_16 = {\n  class: \"paging\"\n};\nconst _hoisted_17 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_loading_area = _resolveComponent(\"loading-area\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"ul\", _hoisted_2, [_createElementVNode(\"li\", null, [_hoisted_3, _createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"custName\",\n    onKeyup: _cache[0] || (_cache[0] = _withKeys($event => $options.getAlarmTalkSndHistList(0), [\"enter\"]))\n  }, null, 32 /* HYDRATE_EVENTS */)]), _createElementVNode(\"li\", null, [_hoisted_4, _createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"custTelNo\",\n    onKeyup: _cache[1] || (_cache[1] = _withKeys($event => $options.getAlarmTalkSndHistList(0), [\"enter\"]))\n  }, null, 32 /* HYDRATE_EVENTS */)]), _hoisted_5, _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.getAlarmTalkSndHistList(0))\n  }, \"조회\")])])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"table\", null, [_hoisted_8, _hoisted_9, _createElementVNode(\"tbody\", null, [_createCommentVNode(\" no-data-area \"), $options.alarmTalkSndHistList.totalElements == 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_10, _hoisted_12)) : (_openBlock(true), _createElementBlock(_Fragment, {\n    key: 1\n  }, _renderList($options.alarmTalkSndHistList.content, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: idx\n    }, [_createElementVNode(\"td\", null, _toDisplayString($options.StringUtil().cusNmFormatter(item.customer.custNm)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.StringUtil().phoneFormatter(item.customer.custTelNo)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.svcMainClsCodeDesc), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.troubReceiptDt), 1 /* TEXT */), _createElementVNode(\"td\", {\n      title: item.reporterOpinion\n    }, _toDisplayString(item.reporterOpinion), 9 /* TEXT, PROPS */, _hoisted_13), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", {\n      onClick: $event => this.$emit('openLayerPop', this.alarmTalkSndHistList.content[idx])\n    }, [_hoisted_15, _createTextVNode(\"알림톡 발송\")], 8 /* PROPS */, _hoisted_14)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"ul\", _hoisted_16, [_withDirectives(_createElementVNode(\"li\", {\n    class: \"left_page\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.getPrevBlock())\n  }, null, 512 /* NEED_PATCH */), [[_vShow, $data.prevBlock]]), _withDirectives(_createElementVNode(\"li\", {\n    class: \"left_num\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.getAlarmTalkSndHistList(this.pageNumber - 1))\n  }, null, 512 /* NEED_PATCH */), [[_vShow, $data.prevPage]]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.alarmTalkSndHistList.totalPages, (item, idx) => {\n    return _withDirectives((_openBlock(), _createElementBlock(\"li\", {\n      class: _normalizeClass({\n        'on': idx === this.pageNumber\n      }),\n      key: idx,\n      onClick: $event => $options.getAlarmTalkSndHistList(idx)\n    }, _toDisplayString(idx + 1), 11 /* TEXT, CLASS, PROPS */, _hoisted_17)), [[_vShow, idx >= this.blockPageNumber * this.blockPerPageSize && idx < (this.blockPageNumber + 1) * this.blockPerPageSize]]);\n  }), 128 /* KEYED_FRAGMENT */)), _withDirectives(_createElementVNode(\"li\", {\n    class: \"right_num\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.getAlarmTalkSndHistList(this.pageNumber + 1))\n  }, null, 512 /* NEED_PATCH */), [[_vShow, $data.nextPage]]), _withDirectives(_createElementVNode(\"li\", {\n    class: \"right_page\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.getNextBlock())\n  }, null, 512 /* NEED_PATCH */), [[_vShow, $data.nextBlock]])]), _withDirectives(_createVNode(_component_loading_area, null, null, 512 /* NEED_PATCH */), [[_vShow, $data.loading]])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","for","type","id","style","colspan","_hoisted_11","_hoisted_1","_hoisted_2","_hoisted_3","onKeyup","$options","_hoisted_4","_hoisted_5","onClick","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createCommentVNode","totalElements","_createElementBlock","_Fragment","key","content","item","idx","cusNmFormatter","customer","custNm","phoneFormatter","custTelNo","svcMainClsCodeDesc","troubReceiptDt","title","reporterOpinion","$emit","alarmTalkSndHistList","_hoisted_15","_hoisted_16","$data","pageNumber","totalPages","blockPageNumber","blockPerPageSize","_createVNode","_component_loading_area"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\alarm\\AlarmSendHistList.vue"],"sourcesContent":["<template>\r\n<div class=\"search_box\">\r\n  <ul class=\"search_st01\">\r\n    <li>\r\n      <label for=\"\">고객명</label>\r\n      <input type=\"text\" id=\"custName\" @keyup.enter=\"getAlarmTalkSndHistList(0)\">\r\n    </li>  \r\n    <li>\r\n      <label for=\"\">전화번호</label>\r\n      <input type=\"text\" id=\"custTelNo\" @keyup.enter=\"getAlarmTalkSndHistList(0)\">\r\n    </li>\r\n    <li>\r\n      <label for=\"\">발송일</label>\r\n      <input type=\"date\" id=\"sndFromDt\"> ~ <input type=\"date\" id=\"sndToDt\">\r\n    </li>\r\n    <li>\r\n      <button @click=\"getAlarmTalkSndHistList(0)\">조회</button>\r\n    </li>\r\n    \r\n  </ul>\r\n</div>\r\n<div class=\"list_box\" style=\"position:relative;\">\r\n  <p>전체건수 : <span id=\"totalCnt\">0</span>건</p>    \r\n  <table>\r\n      <colgroup>\r\n      <col style=\"width:12%\">\r\n      <col style=\"width:12%\">\r\n      <col style=\"width:15%\">\r\n      <col style=\"width:15%\">\r\n      <col style=\"width:calc(46% - 180px)\">\r\n      <col style=\"width:180px\">\r\n    </colgroup>\r\n    <thead>\r\n      <tr>        \r\n        <th>고객명</th>\r\n        <th>전화번호</th>\r\n        <th>상품</th>\r\n        <th>접수일자</th>\r\n        <th>신고내용</th>      \r\n        <th></th>            \r\n      </tr>\r\n    </thead>\r\n    <tbody>      \r\n      <!-- no-data-area -->\r\n      <tr v-if=\"alarmTalkSndHistList.totalElements == 0\">\r\n        <td class=\"no_data\" colspan=\"6\">조회된 데이터가 없습니다.</td>\r\n      </tr>\r\n\r\n      <tr v-else v-for=\"(item, idx) in alarmTalkSndHistList.content\" :key=\"idx\">      \r\n        <td>{{StringUtil().cusNmFormatter(item.customer.custNm)}}</td>                  \r\n        <td>{{StringUtil().phoneFormatter(item.customer.custTelNo)}}</td>                  \r\n        <td>{{item.svcMainClsCodeDesc}}</td>\r\n        <td>{{item.troubReceiptDt}}</td>\r\n        <td :title=\"item.reporterOpinion\">{{item.reporterOpinion}}</td>\r\n        <td><div @click=\"this.$emit('openLayerPop', this.alarmTalkSndHistList.content[idx])\"><span></span>알림톡 발송</div></td>\r\n      </tr>\r\n    </tbody>\r\n  </table>  \r\n  <ul class=\"paging\">\r\n    <li class=\"left_page\" v-show=\"prevBlock\" @click=\"getPrevBlock()\"></li>\r\n    <li class=\"left_num\" v-show=\"prevPage\" @click=\"getAlarmTalkSndHistList(this.pageNumber-1)\"></li>    \r\n    <li :class=\"{'on': idx === this.pageNumber}\"                 \r\n      v-show=\"( idx >= (this.blockPageNumber) * this.blockPerPageSize && idx < (this.blockPageNumber+1) * this.blockPerPageSize )\" \r\n      v-for=\"(item, idx) in alarmTalkSndHistList.totalPages\" :key=\"idx\" @click=\"getAlarmTalkSndHistList(idx)\">{{idx+1}}</li>                            \r\n    <li class=\"right_num\" v-show=\"nextPage\" @click=\"getAlarmTalkSndHistList(this.pageNumber+1)\"></li>\r\n    <li class=\"right_page\" v-show=\"nextBlock\" @click=\"getNextBlock()\"></li>\r\n  </ul>\r\n  <loading-area v-show=\"loading\"/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import StringUtil from '../../../utils/StringUtil';\r\n  import LoadingArea from '@/components/common/layer/LoadingArea'; // 로딩 레이어\r\n\r\n  export default {\r\n    name: 'AlarmSendHistList',\r\n    emits : [\"openLayerPop\"],\r\n    components: {\r\n      LoadingArea\r\n    },\r\n    data() {\r\n      return {\r\n        //------------------------------------------------------------\r\n        // 페이지 처리 \r\n        //------------------------------------------------------------\r\n        pageNumber : 0,           //페이지 번호\r\n        recordSize : 10,          //한페이지당 보여질 리스트 갯수\r\n        prevPage : false,\r\n        nextPage : false,\r\n        //------------------------------------------------------------\r\n        // 페이지 블럭 처리 \r\n        //------------------------------------------------------------\r\n        blockPerPageSize : 10,    //블럭당 보여질 페이지 갯수\r\n        blockPageNumber : 0,      //블럭 페이지번호\r\n        blockPageCnt : 0,         //페이지 블럭 갯수\r\n        prevBlock : false,\r\n        nextBlock : false,        \r\n        loading : false\r\n      }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    computed: {\r\n      // 알림톡 발송이력 조회\r\n      alarmTalkSndHistList() {                \r\n        return this.$store.state.trouble.alarmTalkSndHistList;            \r\n      },\r\n      userInfo() {\r\n      // 로그인 사용자 정보\r\n        return this.$store.state.auth.userInfo;\r\n      }\r\n    },\r\n    methods: {\r\n      getAlarmTalkSndHistList(pageNo){\r\n        \r\n        if(pageNo < this.blockPageNumber * this.blockPerPageSize){\r\n          this.getPrevBlock(pageNo);\r\n          return;\r\n        }\r\n        if(pageNo == (this.blockPageNumber+1) * this.blockPerPageSize){\r\n          this.getNextBlock(pageNo);\r\n          return;\r\n        }\r\n\r\n        //----------------------------------------------------------------\r\n        // Param Info\r\n        //----------------------------------------------------------------                \r\n        let custName = document.getElementById(\"custName\").value;   //고객명\r\n        let custTelNo = document.getElementById(\"custTelNo\").value;   //고객전화번호\r\n        let sndFromDt = document.getElementById(\"sndFromDt\").value;   //발송일시 From           \r\n        let sndToDt = document.getElementById(\"sndToDt\").value;   //발송일시 To                 \r\n        if(custTelNo.indexOf(\"0\") == 0){          \r\n          custTelNo = \"82\" + custTelNo.substr(1, custTelNo.length);\r\n        }\r\n        \r\n        // 유효성 체크\r\n        if(!this.isValidation()){\r\n          return;\r\n        }\r\n\r\n        let param = {\r\n          \"pageNo\" : pageNo,\r\n          \"recordSize\" : this.recordSize,        \r\n          \"sndCmpNo\" : this.userInfo.loginId,   //발송자 ID\r\n          \"custName\" : custName,\r\n          \"custTelNo\" : custTelNo,\r\n          \"sndFromDt\" : sndFromDt,\r\n          \"sndToDt\" : sndToDt\r\n        };        \r\n        this.loading = true;\r\n        this.$store.dispatch(\"trouble/alarmTalkSndHistList\", param).then(() => {                      \r\n          //----------------------------------------------------------------\r\n          // 페이징 처리        \r\n          //----------------------------------------------------------------\r\n          let listObj = this.alarmTalkSndHistList;          \r\n          this.pageNumber = listObj.pageable.pageNumber;  //페이지 번호\r\n          let totalPages = listObj.totalPages;    //총페이지 수\r\n          let totalCnt = listObj.totalElements; //총 건수\r\n          document.getElementById(\"totalCnt\").innerHTML = totalCnt.toLocaleString();\r\n          this.pagination(this.pageNumber, totalPages, totalCnt);\r\n          this.loading = false;\r\n        })\r\n        .catch(error => {\r\n          this.loading = false;\r\n          console.log(error);\r\n        });\r\n\r\n      }, \r\n      pagination(pageNumber, totalPages, totalCnt){\r\n        //--------------------------------------\r\n        // 페이지 네비게이션 처리\r\n        //--------------------------------------        \r\n        if(totalCnt == 0){\r\n            this.prevPage = false;      \r\n            this.nextPage = false;\r\n        } else {\r\n          if(pageNumber == 0){\r\n            this.prevPage = false;                  \r\n            if(totalPages == 1){\r\n              this.nextPage = false;\r\n            } else {\r\n              this.nextPage = true;\r\n            }\r\n          } else {\r\n            if(pageNumber == totalPages-1){          \r\n              this.prevPage = true;      \r\n              this.nextPage = false;\r\n            } else {\r\n              this.prevPage = true;     \r\n              this.nextPage = true;       \r\n            }\r\n          }\r\n        }\r\n        \r\n        //--------------------------------------\r\n        // 페이지의 페이지 네비게이션 처리\r\n        //--------------------------------------        \r\n        let blockPageCnt = 0;\r\n        let blockPerPageSize = this.blockPerPageSize;\r\n        if(totalPages % blockPerPageSize == 0){\r\n            blockPageCnt = totalPages / blockPerPageSize;\r\n        } else {\r\n          blockPageCnt = Math.floor((totalPages / blockPerPageSize)) + 1;\r\n        }                \r\n        this.blockPageCnt = blockPageCnt;            \r\n        \r\n        if(this.blockPageNumber == 0){\r\n          this.prevBlock = false;\r\n          if(this.blockPageCnt == 1){\r\n            this.nextBlock = false;\r\n          } else {\r\n            if((this.blockPageNumber+1) <= this.blockPageCnt){\r\n              this.nextBlock = true;\r\n            }\r\n          }          \r\n        } else {\r\n          this.prevBlock = true;          \r\n          if((this.blockPageNumber+1) == this.blockPageCnt){\r\n            this.nextBlock = false;\r\n          } else {\r\n            this.nextBlock = true;\r\n          }\r\n        }\r\n\r\n      },\r\n      getPrevBlock(pageNo){\r\n        this.blockPageNumber = this.blockPageNumber - 1;\r\n        let pageNumber = this.blockPageNumber * this.blockPerPageSize;\r\n        if(pageNo != null){\r\n          pageNumber = pageNo;\r\n        }      \r\n        this.getAlarmTalkSndHistList(pageNumber);\r\n      },\r\n      getNextBlock(pageNo){      \r\n        this.blockPageNumber = this.blockPageNumber + 1;      \r\n        let pageNumber = this.blockPageNumber * this.blockPerPageSize;\r\n        if(pageNo != null){\r\n          pageNumber = pageNo;\r\n        }      \r\n        this.getAlarmTalkSndHistList(pageNumber);\r\n      },\r\n      //발송일자 셋팅\r\n      setSndDt(){\r\n\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var month = now.getMonth()+1;\r\n        var prevMonth = now.getMonth();\r\n        if(month <=9){\r\n          month = \"0\" + month;\r\n        }\r\n        if(prevMonth <=9){\r\n          prevMonth = \"0\" + prevMonth;\r\n        }\r\n        var day = now.getDate();        \r\n        if(day <=9){\r\n          day = \"0\" + day;\r\n        }      \r\n        \r\n        var today = year + \"-\" + month + \"-\" + day;  \r\n        var prevMonthLastDay = new Date(year, prevMonth, \"0\").getDate();        \r\n        if(day > prevMonthLastDay ){      //한달전 날짜가 해당월의 마지막 일자보다 큰경우\r\n          day = prevMonthLastDay;\r\n        }\r\n        var fromDay = year + \"-\" + prevMonth + \"-\" + day;           \r\n        document.getElementById(\"sndFromDt\").value = fromDay;\r\n        document.getElementById(\"sndToDt\").value = today;\r\n\r\n      },\r\n      // 발송기간 유효성 체크      \r\n      isValidation(){\r\n        let sndFromDt = document.getElementById(\"sndFromDt\").value;   //발송일시 From           \r\n        let sndToDt = document.getElementById(\"sndToDt\").value;       //발송일시 To   \r\n        if(sndFromDt == ''){\r\n          alert(\"발송기간을 선택 하세요\");\r\n          document.getElementById(\"sndFromDt\").focus();\r\n          return false;\r\n        }\r\n        if(sndToDt == ''){\r\n          alert(\"발송기간을 선택 하세요\");\r\n          document.getElementById(\"sndToDt\").focus();\r\n          return false;\r\n        }\r\n        if(new Date(sndToDt).getTime() - new Date(sndFromDt).getTime() < 0){\r\n          alert(\"이전날짜가 더 클 수 없습니다.\");\r\n          return false;\r\n        }\r\n        return true;\r\n      },\r\n      StringUtil(){\r\n        var obj = StringUtil;\r\n        return obj;        \r\n      }                 \r\n    },\r\n    \r\n    mounted(){\r\n      this.setSndDt();\r\n      this.getAlarmTalkSndHistList(0);\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}