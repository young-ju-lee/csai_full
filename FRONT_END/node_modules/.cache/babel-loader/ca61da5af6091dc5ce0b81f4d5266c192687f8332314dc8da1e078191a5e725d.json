{"ast":null,"code":"import StringUtil from '../../../utils/StringUtil';\nexport default {\n  name: 'ConsultAccptInfo',\n  emits: [\"searchLink\"],\n  data() {\n    return {\n      reporterOpinion: \"\"\n    };\n  },\n  created() {},\n  computed: {\n    accptInfo() {\n      return this.$store.state.trouble.accptInfo;\n    },\n    consultTarget() {\n      // 로그인 사용자 정보\n      return this.$store.state.consult.consultTarget;\n    }\n  },\n  methods: {\n    getAccptInfo() {\n      // TTID 조회                \n      this.ttId = this.consultTarget.currTtID; //localStorage.getItem('ttId');                \n      this.$store.dispatch(\"trouble/accptInfo\", this.ttId).then(() => {\n        // 알림톡 -> 전환 관련 처리\n        this.reporterOpinion = this.accptInfo.reporterOpinion;\n        // 팝업일 경우(분기 처리 해서) 이부분에서 전화번호 넘겨주는 처리\n        if (this.consultTarget.popupYn == \"Y\") {\n          // #TOFIX : indexOf 처리 검증 오류 확률 높음\n          let telNum = \"\";\n          let reporterTelNum1 = this.accptInfo.reporterTelNum1;\n          let reporterTelNum2 = this.accptInfo.reporterTelNum2;\n          if (reporterTelNum1 != \"\") {\n            if (reporterTelNum1.indexOf(\"010\") == 0 || reporterTelNum1.indexOf(\"010\") == 1 || reporterTelNum1.indexOf(\"017\") == 0 || reporterTelNum1.indexOf(\"017\") == 1 || reporterTelNum1.indexOf(\"016\") == 0 || reporterTelNum1.indexOf(\"016\") == 1 || reporterTelNum1.indexOf(\"011\") == 0 || reporterTelNum1.indexOf(\"011\") == 1) {\n              telNum = reporterTelNum1;\n            } else {\n              telNum = reporterTelNum2;\n            }\n          } else {\n            telNum = reporterTelNum2;\n          }\n          if (telNum.indexOf(\"010\") != 0 && telNum.indexOf(\"010\") != 1 && telNum.indexOf(\"017\") != 0 && telNum.indexOf(\"017\") != 1 && telNum.indexOf(\"016\") != 0 && telNum.indexOf(\"016\") != 1 && telNum.indexOf(\"011\") != 0 && telNum.indexOf(\"011\") != 1) {\n            telNum = \"\";\n          }\n          if (telNum.length == 12) {\n            telNum = telNum.substr(1, telNum.length);\n          }\n          // 실 세팅\n          this.consultTarget.targetName = this.StringUtil().cusNmFormatter(this.accptInfo.custName);\n          this.consultTarget.targetNum = telNum;\n          this.$emit('searchLink');\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    StringUtil() {\n      var obj = StringUtil;\n      return obj;\n    }\n  },\n  mounted() {\n    this.getAccptInfo();\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}