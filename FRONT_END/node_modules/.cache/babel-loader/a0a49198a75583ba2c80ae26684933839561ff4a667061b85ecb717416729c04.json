{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"group_item\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"AI 조치 가이드\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"egl_box\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"egl_guide_no_data\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", null, \"AI 조치 가이드 데이터가 없습니다.\", -1 /* HOISTED */);\nconst _hoisted_6 = [_hoisted_5];\nconst _hoisted_7 = {\n  key: 1,\n  class: \"egl_guide\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = [\"id\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"title\"];\nconst _hoisted_12 = {\n  class: \"guide_img\"\n};\nconst _hoisted_13 = [\"src\", \"alt\", \"onError\"];\nconst _hoisted_14 = {\n  class: \"guide_detail\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"noneImgText\"\n}, \"다음 조치로 넘어가주세요.\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  key: 0,\n  class: \"ctl_line\"\n};\nconst _hoisted_18 = {\n  class: \"layer_popup\"\n};\nconst _hoisted_19 = {\n  class: \"go_reason_box\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"출동 처리 사유 입력\", -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"layer_box\"\n};\nconst _hoisted_22 = [\"textContent\"];\nconst _hoisted_23 = {\n  class: \"error_txt\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" group_item \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\" egl_box \"), _createElementVNode(\"div\", _hoisted_3, [$data.checkNone ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _hoisted_6)) : _createCommentVNode(\"v-if\", true), $options.eglList.length != 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"ul\", {\n    class: _normalizeClass('menu_line' + ' st0' + $options.eglList.guide_lines.length)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.eglList.guide_lines, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: idx,\n      class: _normalizeClass('egl_menu_' + item.terml_type + ' ' + ($data.on_main_num == idx ? 'on' : '')),\n      onClick: $event => $options.changeMainNum(idx)\n    }, [_createElementVNode(\"span\", null, _toDisplayString(item.terml_type), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.eglList.guide_lines, (item, idx) => {\n    return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n      key: idx,\n      class: \"oy_s\",\n      id: 'on_main_' + idx\n    }, [_createElementVNode(\"ul\", {\n      class: _normalizeClass('guide_line' + ' st0' + item.guides.length + ' ' + (item.guides.length > 6 ? 'sc' : ''))\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.guides, (item1, idx1) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: idx1,\n        class: _normalizeClass($data.on_sub_num == idx1 ? 'on' : ''),\n        onClick: $event => $options.changeSubNum(idx1)\n      }, [_createElementVNode(\"dl\", null, [_createElementVNode(\"dt\", null, \"step0\" + _toDisplayString(idx1 + 1), 1 /* TEXT */), _createElementVNode(\"dd\", {\n        title: item1.title\n      }, _toDisplayString(item1.title), 9 /* TEXT, PROPS */, _hoisted_11)])], 10 /* CLASS, PROPS */, _hoisted_10);\n    }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.guides, (item1, idx1) => {\n      return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        key: idx1,\n        class: _normalizeClass('guide_box oy_s' + ($data.on_sub_num == idx1 ? ' on' : '') + ' idx_' + idx1 + ' img_group_' + item1.file),\n        style: _normalizeStyle('margin-top:' + (idx1 > 5 ? (idx1 - 5) * 40 : 0) + 'px')\n      }, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"div\", null, [_createElementVNode(\"p\", _hoisted_12, [_createElementVNode(\"img\", {\n        src: '/nas/' + item1.file + '.png',\n        alt: item1.file,\n        onError: $event => $options.hideErrorImg(item1.file)\n      }, null, 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_13)])]), _createElementVNode(\"ul\", _hoisted_14, [_withDirectives(_createElementVNode(\"li\", {\n        class: \"guide_img_view\",\n        onClick: $event => $options.showImg(item1.file, 'IM')\n      }, \"상세이미지\", 8 /* PROPS */, _hoisted_15), [[_vShow, this.consultTarget.popupYn == 'N']]), _createElementVNode(\"li\", {\n        class: \"guide_text_view\",\n        onClick: _cache[0] || (_cache[0] = $event => $options.openConsultGuideTextPopup())\n      }, \"상세가이드\")]), _createElementVNode(\"p\", null, _toDisplayString(item1.description), 1 /* TEXT */)]), _hoisted_16])], 6 /* CLASS, STYLE */)), [[_vShow, $data.on_sub_num == idx1]]);\n    }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_9)), [[_vShow, $data.on_main_num == idx]]);\n  }), 128 /* KEYED_FRAGMENT */)), !$data.checkNone ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_withDirectives(_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.nextEgl())\n  }, \"다음조치\", 512 /* NEED_PATCH */), [[_vShow, $data.next_show]]), _withDirectives(_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.btnConsultDone('N'))\n  }, \"무출동 처리 완료\")]), _createElementVNode(\"li\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.showGoReason && $options.showGoReason(...args))\n  }, \"출동 요청\")])], 512 /* NEED_PATCH */), [[_vShow, this.consultTarget.popupYn == 'N']])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\"// egl_box \")]), _createCommentVNode(\"// group_item \"), _withDirectives(_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"textarea\", {\n    class: \"ta_box oy_s\",\n    id: \"go_reason\",\n    textContent: _toDisplayString($data.go_reason)\n  }, null, 8 /* PROPS */, _hoisted_22), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.btnConsultDone('Y'))\n  }, \"출동 요청 완료\"), _createElementVNode(\"p\", _hoisted_23, _toDisplayString($data.errorTxt), 1 /* TEXT */)]), _createElementVNode(\"p\", {\n    class: \"layer_close\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.closeGoReason && $options.closeGoReason(...args))\n  })])], 512 /* NEED_PATCH */), [[_vShow, $data.show_go_reason]])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_5","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","$data","_createElementBlock","_hoisted_4","$options","length","_hoisted_7","guide_lines","_Fragment","item","idx","key","terml_type","onClick","id","guides","item1","idx1","title","file","style","_hoisted_12","src","alt","onError","_hoisted_14","consultTarget","popupYn","description","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_toDisplayString","_hoisted_23"],"sourceRoot":"","sources":["C:\\CSAI_Front\\src\\views\\pages\\consult\\ConsultGuidelines.vue"],"sourcesContent":["<template>\r\n  <!-- group_item -->\r\n  <div class=\"group_item\">\r\n    <h1>AI 조치 가이드</h1>\r\n    <!-- egl_box -->\r\n    <div class=\"egl_box\">\r\n      <div class=\"egl_guide_no_data\" v-if=\"checkNone\">\r\n        <p>AI 조치 가이드 데이터가 없습니다.</p>\r\n      </div>\r\n      <div class=\"egl_guide\" v-if=\"eglList.length != 0\">\r\n        <ul :class=\"'menu_line' + ' st0' + eglList.guide_lines.length\">\r\n          <li v-for=\"(item, idx) in eglList.guide_lines\" :key=\"idx\" :class=\"'egl_menu_' + item.terml_type + ' ' + (on_main_num == idx ? 'on' : '')\" @click=\"changeMainNum(idx)\">\r\n            <span>{{item.terml_type}}</span>\r\n          </li>\r\n        </ul>\r\n        <div v-for=\"(item, idx) in eglList.guide_lines\" :key=\"idx\" v-show=\"on_main_num == idx\" class=\"oy_s\" :id=\"'on_main_' + idx\">\r\n          <ul :class=\"'guide_line' + ' st0' + item.guides.length + ' ' + (item.guides.length > 6 ? 'sc' : '')\">\r\n            <li v-for=\"(item1, idx1) in item.guides\" :key=\"idx1\" :class=\"(on_sub_num == idx1 ? 'on' : '')\"  @click=\"changeSubNum(idx1)\">\r\n              <dl>\r\n                <dt>step0{{idx1 + 1}}</dt>\r\n                <dd :title=\"item1.title\">{{item1.title}}</dd>\r\n              </dl>\r\n            </li>\r\n          </ul>\r\n          <div v-for=\"(item1, idx1) in item.guides\" :key=\"idx1\" :class=\"'guide_box oy_s' + (on_sub_num == idx1 ? ' on' : '') + ' idx_' + idx1 + ' img_group_' + item1.file\" v-show=\"on_sub_num == idx1\"  :style=\"'margin-top:' + (idx1 > 5 ? (idx1 - 5) * 40 : 0) + 'px'\">\r\n            <div>\r\n              <div>\r\n                <div>\r\n                  <p class=\"guide_img\"><img :src=\"'/nas/' + item1.file + '.png'\" :alt=\"item1.file\" @error=\"hideErrorImg(item1.file)\"></p>\r\n                </div>\r\n                <ul class=\"guide_detail\">\r\n                  <li class=\"guide_img_view\" @click=\"showImg(item1.file, 'IM')\" v-show=\"this.consultTarget.popupYn == 'N'\">상세이미지</li>\r\n                  <li class=\"guide_text_view\" @click=\"openConsultGuideTextPopup()\">상세가이드</li>\r\n                </ul>\r\n                <p>\r\n                  {{item1.description}}\r\n                </p>\r\n              </div>\r\n              <div class=\"noneImgText\">다음 조치로 넘어가주세요.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"ctl_line\" v-if=\"!checkNone\">\r\n          <button @click=\"nextEgl()\" v-show=\"next_show\">다음조치</button>\r\n          <ul v-show=\"this.consultTarget.popupYn == 'N'\">\r\n            <li><button @click=\"btnConsultDone('N')\">무출동 처리 완료</button></li>\r\n            <li><button @click=\"showGoReason\">출동 요청</button></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--// egl_box -->\r\n  </div>\r\n  <!--// group_item -->\r\n  <div class=\"layer_popup\" v-show=\"show_go_reason\">\r\n    <div class=\"go_reason_box\">\r\n      <h1>출동 처리 사유 입력</h1>\r\n      <div class=\"layer_box\">\r\n        <textarea class=\"ta_box oy_s\" id=\"go_reason\" v-text=\"go_reason\"></textarea>\r\n        <button @click=\"btnConsultDone('Y')\">출동 요청 완료</button>\r\n        <p class=\"error_txt\">{{errorTxt}}</p>\r\n      </div>\r\n      <p class=\"layer_close\" @click=\"closeGoReason\"></p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n  //import guide from '@/store/modules/guide';\r\n  export default {\r\n    name: 'ConsultGuidelines',\r\n    emits : [\"showImg\"],\r\n    data() {\r\n      return {\r\n        on_main_num : 0,\r\n        on_sub_num : 0,\r\n        next_show : true,\r\n        checkNone : false,\r\n        done : 0,\r\n        go_reason : \"\",\r\n        show_go_reason : false,\r\n        errorTxt : \"\",\r\n        errorImgList : [],\r\n      }\r\n    },\r\n    created() {\r\n      \r\n    },\r\n    computed: {\r\n      eglList(){\r\n        return this.$store.state.guide.eglList;\r\n      },\r\n      roomInfo() {\r\n        return this.$store.state.alarm.roomInfo;\r\n      },\r\n      consultDone() {\r\n        return this.$store.state.consult.consultDone;\r\n      },\r\n      consultTarget() {\r\n      // 로그인 사용자 정보\r\n        return this.$store.state.consult.consultTarget;\r\n      },\r\n    },\r\n    methods: {\r\n      getEgl(){\r\n        // 초기화.\r\n        let target = document.querySelectorAll(\".guideNoneImg\");\r\n        for(let j in target){\r\n          if(!isNaN(j))\r\n          target[j].classList.remove(\"guideNoneImg\");\r\n        }\r\n        this.on_main_num = 0;\r\n        this.on_sub_num = 0;\r\n        // TTID로 조회\r\n        let item = this.consultTarget.currTtID; //localStorage.getItem('ttId'); //\"2023031600000013\";\r\n        this.$store.dispatch(\"guide/egl\", item).then(() => {\r\n          if(this.eglList.guide_lines.length > 0){ \r\n            console.log(this.eglList);\r\n            this.checkNone = false;\r\n            this.$forceUpdate();\r\n            // 신규로 추가된 이미지 에러 안나는 부분 처리 추가\r\n            if(this.errorImgList.length != 0){\r\n              for(let i in this.errorImgList){\r\n                let target = document.querySelectorAll(\".img_group_\" + this.errorImgList[i] + \" > div\");\r\n                for(let j in target){\r\n                  if(!isNaN(j))\r\n                  target[j].classList.add(\"guideNoneImg\");\r\n                }\r\n              }\r\n\r\n            }\r\n          }else{\r\n            this.checkNone = true;\r\n          }\r\n          \r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      },\r\n      nextEgl(){\r\n        // eslint-disable-next-line\r\n        //debugger;\r\n        if(this.on_sub_num + 1 < this.eglList.guide_lines[this.on_main_num].guides.length){\r\n          this.on_sub_num++;\r\n        }else{\r\n          if(this.eglList.guide_lines[this.on_main_num + 1] != undefined){\r\n            this.on_sub_num = 0;\r\n            this.on_main_num++;\r\n          } else {\r\n            //this.next_show = false;\r\n            // 초기화 시키는 로직\r\n            this.on_sub_num = 0;\r\n            this.on_main_num = 0;\r\n          }\r\n        }\r\n      },\r\n      changeMainNum(idx){\r\n        this.on_sub_num = 0;\r\n        this.on_main_num = idx;\r\n      },\r\n      changeSubNum(idx){\r\n        this.on_sub_num = idx;\r\n      },\r\n      changeScroll(idx){\r\n        if(idx > 5){\r\n          document.getElementById(\"on_main_\" + this.on_main_num).scrollTop = idx > 5 ? (idx - 5) * 40 : 0\r\n        }else{\r\n          document.getElementById(\"on_main_\" + this.on_main_num).scrollTop = 0;\r\n        }\r\n      },\r\n      showImg(value, type){\r\n        console.log(value);\r\n        this.$emit('showImg', value, type);\r\n      },\r\n      showGoReason(){\r\n        this.show_go_reason = true;\r\n      },\r\n      closeGoReason(){\r\n        this.errorTxt = \"\";\r\n        this.go_reason = \"\";\r\n        document.getElementById(\"go_reason\").value = \"\";\r\n        this.show_go_reason = false;\r\n      },\r\n      //https://dev.ap.csai.kt.co.kr:8080/api/consult/done\r\n      btnConsultDone(value){\r\n        // 상담 진행 여부 판단 필요.\r\n        // 출동 사유 글자수 확인\r\n        this.go_reason = document.getElementById(\"go_reason\").value;\r\n        if(value == \"Y\" && this.go_reason.length > 1000){\r\n          this.errorTxt = \"1000글자 이하로 작성 가능합니다. (\"+ this.go_reason.length +\"/1000)\"\r\n          return;\r\n        }\r\n        let doneTypeName = value == 'Y' ? \"출동 요청\" : \"무출동 처리 완료\";\r\n        if(confirm(doneTypeName + \" 하시겠습니까? 완료시 상담이 종료됩니다.\")){\r\n          // AI 조치 가이드 코드 생성\r\n          let fileCode = \"\";\r\n          if(this.eglList.guide_lines[this.on_main_num].guides[this.on_sub_num].file != null){\r\n            fileCode = this.eglList.guide_lines[this.on_main_num].guides[this.on_sub_num].file.split(\"_\");\r\n            fileCode = fileCode[0] + '_' + fileCode[fileCode.length - 1];\r\n          }\r\n          let item = {\r\n            consult_id : this.consultTarget.currConsultId,\r\n            last_guide_code : fileCode,\r\n            scn : this.eglList.guide_lines[this.on_main_num].guides[this.on_sub_num].scn,\r\n            go_reason : this.go_reason,\r\n            go_yn : value\r\n          };\r\n          // 출동 또는 무출동 처리 완료\r\n          this.$store.dispatch(\"consult/consultDone\", item).then(() => {\r\n            if(this.consultDone.errorCode == null){ \r\n              // 상담 초기화\r\n              this.consultTarget.consultArray = [];\r\n              alert(doneTypeName + \", 상담이 종료되었습니다.\");\r\n              this.$router.push({path:'/alarm'});\r\n            }else{\r\n              alert(this.consultDone.message);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n        }\r\n      },\r\n      hideErrorImg(idx){\r\n        if(this.errorImgList.indexOf(idx) == -1 ){\r\n          this.errorImgList.push(idx);\r\n          console.log(this.errorImgList);\r\n        }\r\n        // 동일한 이미지 포함 전체 처리\r\n        let target = document.querySelectorAll(\".img_group_\" + idx + \" > div\");\r\n        for(let j in target){\r\n          if(!isNaN(j))\r\n          target[j].classList.add(\"guideNoneImg\");\r\n        }\r\n      },\r\n      openConsultGuideTextPopup(){\r\n        let rigthPosition = (document.body.offsetWidth) - 730;\r\n        rigthPosition += window.screenLeft;\r\n\r\n        let options = \"top=10, left=\" + rigthPosition +\", width=900, height=900, status=no, menubar=no, toolbar=no, resizable=no\";\r\n        window.open(\"/popup/ConsultGuideTextPopup?ttId=\" + this.consultTarget.currTtID + \"&main=\" + this.on_main_num + \"&sub=\" + this.on_sub_num, \"ConsultHdmsResultInfoPopup\", options);\r\n      },\r\n    },\r\n\r\n    updated(){\r\n      if(document.getElementById(\"on_main_\" + this.on_main_num) != null){\r\n        this.changeScroll(this.on_sub_num);\r\n      }\r\n      // 다음 조치. class 처리\r\n    }\r\n  }\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}